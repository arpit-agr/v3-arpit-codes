---
import Layout from '../layouts/Layout.astro';
import {findMatchingItem} from '../utils/findMatchingItem.js';
import pageData from '../data/pages.json';
import HeroSection from '../components/HeroSection.astro';
import projects from '../data/projects.json';
import RightArrowVector from '../components/RightArrowVector.astro';

const pageInfo = findMatchingItem(Astro.url.pathname, pageData);
const pageTitle = pageInfo.title;
const pageDesc = pageInfo.description;
---

<Layout title={pageTitle} description={pageDesc}>
	<main>
		<HeroSection>
			<h1>{pageTitle}</h1>
			<p class="text-balance">{pageDesc}</p>
		</HeroSection>
		<article class="flow region wrapper">
			<h2 class="heading-3 leading-flat">ðŸš§ Work in Progress ðŸš§</h2>
			<p class="text-balance">
				I'm currently working on enhancing this page to provide a better experience. In
				the meantime, here's a list of links to some of my recent work:
			</p>
			<ul class="project-list flow" role="list">
				{
					projects.map(entry => {
						return (
							<li>
								<a class="grid" href={entry.url}>
									<RightArrowVector />
									{entry.label}
								</a>
							</li>
						);
					})
				}
			</ul>
		</article>
	</main>
</Layout>

<style is:global>
	.project-list li {
		--flow-space: var(--space-xs);

		a {
			--gutter: var(--space-xs-s);
			grid-template-columns: auto 1fr;
			align-items: center;

			svg {
				block-size: 1ex;
			}

			path {
				stroke: currentColor;
			}
		}
	}
</style>
