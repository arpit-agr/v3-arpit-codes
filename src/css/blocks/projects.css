.project-showcase-wrapper {
	position: relative;
}

[href='#latest-posts'] {
	grid-column: content;
	position: absolute;

	/* used IKEA's skip listing styles becasue visually hidden styles
	 were not working on Safari for some reason */
	block-size: 1px;
	inline-size: 1px;
	margin: -1px;
	padding: 0;
	border: 0;
	clip: rect(1px, 1px, 1px, 1px);
	white-space: nowrap;
	overflow: hidden;

	&:focus-visible {
		inset-block-start: calc(
			var(--border-thickness-2) + var(--focus-ring-offset)
		);
		z-index: 1;

		block-size: unset;
		inline-size: unset;
		margin: unset;
		padding: var(--button-padding-block) var(--button-padding-inline);
		border: unset;
		clip: unset;
		white-space: normal;
		overflow: auto;
	}
}

[href='#latest-posts'] ~ * {
	transition: opacity var(--transition-base);
}

[href='#latest-posts']:focus-visible ~ * {
	opacity: 0.1;
	/* filter: blur(0.5rem); */
}

.project-showcase {
	grid-column: fullbleed;
	display: grid;
	grid-template-columns: inherit;
	padding-block: var(--space-s) var(--space-m);
	overflow-x: scroll;
	overscroll-behavior-x: contain;
	scroll-snap-type: x mandatory;
	scrollbar-width: none;
	scroll-padding-inline: max(
		var(--page-gutter),
		calc((100vw - var(--_max-content-width)) / 2)
	);
}

.project-list {
	grid-column: content;
	display: flex;
	align-items: center;
	gap: var(--page-gutter);

	&:after {
		content: '';
		align-self: stretch;
		padding-inline-end: max(
			var(--page-gutter),
			calc(((100vw - var(--_max-content-width)) / 2) - var(--page-gutter))
		);
	}
}

.project-item {
	position: relative;
	display: grid;
	gap: var(--space-xs);
	max-inline-size: unset;
	scroll-snap-align: start;

	&:last-child {
		scroll-snap-align: end;
	}

	picture {
		display: block;
		transition: scale var(--transition-movement);
	}

	img {
		max-inline-size: 83vmin;
		object-fit: contain;
	}
}

.project-item-header {
	--_iPad-bezel: 3%;
	--_iphone-inset: 5.25%;
	display: grid;
	grid-template-columns: auto 1fr auto;
	gap: 1em;
	padding-inline-end: var(--_iphone-inset);

	&:before {
		content: '';
		order: 2;
		flex-grow: 1;
		block-size: var(--border-thickness-1);
		background: var(--color-underline);
		align-self: center;
	}
}

.project-link {
	order: 3;
	text-decoration-line: none;
	text-align: end;

	&:after {
		content: '';
		position: absolute;
		inset: 0;
		z-index: 1;
	}

	&:focus-visible {
		outline: none;
	}
}

.project-index {
	order: 1;
}

.project-item:has(:hover) {
	color: var(--color-brand);

	.project-item-header:before {
		background: var(--color-underline-hover);
	}

	picture {
		scale: 1.0125;
	}
}

.project-item:focus-within {
	outline: var(--focus-ring);
	outline-offset: var(--focus-ring-offset);
	border-radius: var(--border-radius-1);

	picture {
		scale: 0.987654321;
	}
}

.project-showcase-controls {
	--gutter: var(--space-xs);
	--cluster-horizontal-alignment: end;
	grid-column: content;

	button {
		padding: 0.25em 0.375em;
		display: inline-grid;
		place-items: center;
		aspect-ratio: 1;
		border-radius: var(--border-radius-round);

		opacity: 0.42;
		cursor: not-allowed;
	}

	svg {
		block-size: 1.25rlh;
		inline-size: auto;
	}

	path {
		stroke: currentColor;
		stroke-width: 2.5px;
	}
}

:where(.has-js) .project-showcase-controls button:not([aria-disabled='true']) {
	opacity: 1;
	cursor: pointer;
}
